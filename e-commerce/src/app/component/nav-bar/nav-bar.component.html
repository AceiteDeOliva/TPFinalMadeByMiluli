<nav *ngIf="(credential$ | async) === null" class="full-container">
  <a routerLink="home">
    <img src="/Assets/Logo made by miluli/Flor_MadeByMiluli.png" alt="logo" class="icon" style="cursor: pointer;">
  </a>
  <div class="toTheRight">
    <ul style="cursor: pointer;">
      <li class="dropdown">
        <span (click)="toggleCategoryMenu()">Categoria</span>
        <ul class="nested" *ngIf="categoryMenuVisible">
          <li><a routerLink="listCategory" (click)="selectCategory('Amigurumi')">Amigurumis</a></li>
          <li><a  routerLink="listCategory" (click)="selectCategory('Accesorio')">Accesorios</a></li>
        </ul>
      </li>
      <li><a routerLink="ofertas">Ofertas</a></li>
      <li><a routerLink="activeProducts">Productos</a></li>
    </ul>
    <button routerLink="login" class="log-button">Inicio de sesión</button>
    <button routerLink="register" class="register-button">Registrarme</button>
    <a routerLink="carrito">
      <img src="/Assets/Logo made by miluli/basket.png" alt="carrito" class="cart">
    </a>
  </div>
</nav>


<nav *ngIf="(isUserOrAdmin() | async)" class="full-container">
  <a routerLink="home">
    <img src="/Assets/Logo made by miluli/Flor_MadeByMiluli.png" alt="logo" class="icon" style="cursor: pointer;">
  </a>
  <div class="toTheRight">
    <ul style="cursor: pointer;">

      <li class="dropdown">
        <span (click)="toggleCategoryMenu()">Categoria</span>
        <ul class="nested" *ngIf="categoryMenuVisible">
          <li><a  (click)="selectCategory('amigurimi')">Amigurumis</a></li>
          <li><a  (click)="selectCategory('accesorio')">Accesorios</a></li>

        </ul>
      </li>

      <li><a routerLink="ofertas">Ofertas</a></li>
      <li><a routerLink="activeProducts">Productos</a></li>
      <li class="dropdown">
        <span (click)="toggleAccountMenu()">Mi Cuenta</span>
        <ul class="nested" *ngIf="accountMenuVisible">
          <li><a routerLink="profile">Perfil</a></li>
          <li><a routerLink="orders">Pedidos</a></li>
          <li *ngIf="(credential$ | async) === 'adminUser'">
            <a routerLink="homeAdmin" (click)="switchToAdminMode()">Modo Admin</a>
          </li>
        </ul>
      </li>
    </ul>
    <button class="log-button" (click)="logout()">Cerrar sesión</button>
    <a routerLink="carrito">
      <img src="/Assets/Logo made by miluli/basket.png" alt="carrito" class="cart">
    </a>
  </div>
</nav>


<nav *ngIf="(isAdminOrEmployee() | async)" class="full-container">
  <a routerLink="home">
    <img src="/Assets/Logo made by miluli/Flor_MadeByMiluli.png" alt="logo" class="icon" style="cursor: pointer;">
  </a>
  <div class="toTheRight">
    <ul style="cursor: pointer;">
      <li><a routerLink="productAdmin">Productos</a></li>
      <li><a routerLink="orders">Órdenes</a></li>
      <li *ngIf="(credential$ | async) !== 'employee'">
        <a routerLink="manageUsers">Gestión Credenciales</a>
      </li>
      <li class="dropdown">
        <span (click)="toggleAccountMenu()">Mi Cuenta</span>
        <ul class="nested" *ngIf="accountMenuVisible">
          <li><a routerLink="profile">Perfil</a></li>
          <li *ngIf="(credential$ | async) === 'admin'">
            <a routerLink="home" (click)="switchToUserMode()">Modo cliente</a>
          </li>
        </ul>
      </li>
    </ul>
    <button class="log-button" (click)="logout()">Cerrar sesión</button>
  </div>
</nav>
